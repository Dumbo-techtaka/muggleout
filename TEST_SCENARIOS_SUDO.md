# Muggleout sudo 권한 테스트 시나리오

## 🧪 초보자 관점 테스트 케이스

### 1. Homebrew 설치 테스트
```bash
muggleout install homebrew
```

**예상 시나리오:**
1. 설치 안내 표시
2. Y/n 확인
3. 관리자 권한 요청 (SudoManager)
4. 비밀번호 입력 안내 (Touch ID 사용자 안내 포함)
5. 설치 진행
6. 완료 또는 에러 처리

**테스트 포인트:**
- [ ] 비밀번호 3번 틀렸을 때 적절한 안내
- [ ] Caps Lock 켜져있을 때 안내
- [ ] 한글로 입력했을 때 안내
- [ ] Touch ID 사용자를 위한 안내
- [ ] Ctrl+C로 취소 시 깔끔한 종료

### 2. npm 전역 패키지 설치 (권한 문제)
```bash
muggleout install claude-code
```

**예상 시나리오:**
1. npm install -g 시도
2. EACCES 에러 발생 시
3. 3가지 옵션 제시
4. sudo 선택 시 경고 메시지
5. npm-global 선택 시 자동 설정

**테스트 포인트:**
- [ ] sudo 사용 시 왜 권장하지 않는지 설명
- [ ] npm-global 설정이 제대로 작동하는지
- [ ] PATH 설정이 올바르게 되는지

### 3. 권한 문제 해결 (fix 명령)
```bash
muggleout fix
# "npm 권한 문제" 선택
# "파일/폴더 권한 변경" 선택
```

**테스트 포인트:**
- [ ] 위험한 경로 입력 시 차단 (/, /System 등)
- [ ] SudoManager 통합 테스트
- [ ] 권한 변경 성공/실패 메시지

### 4. Git 설치 (Linux - 추후 지원 시)
```bash
# Linux 환경에서
muggleout install git
```

**테스트 포인트:**
- [ ] apt-get 사용 시 sudo 처리
- [ ] 비밀번호 안내 메시지
- [ ] 에러 처리

## 🔍 엣지 케이스

### 1. 관리자 권한이 없는 계정
- sudoers 파일에 없는 사용자
- 회사 Mac에서 제한된 권한

### 2. 이미 설치된 도구
- brew가 이미 설치되어 있을 때
- 부분적으로 설치된 상태

### 3. 네트워크 문제
- 설치 중 네트워크 끊김
- 방화벽으로 차단된 환경

### 4. 동시 실행
- 여러 터미널에서 동시에 설치 시도
- sudo 타임아웃 관리

## 📋 체크리스트

### 일관성 체크
- [ ] 모든 sudo 사용 부분이 SudoManager 사용
- [ ] 에러 메시지가 일관된 형식
- [ ] 비밀번호 안내가 동일한 문구

### 초보자 친화성
- [ ] 전문 용어 최소화
- [ ] 시각적 피드백 (이모지, 색상)
- [ ] 단계별 진행 상황 표시
- [ ] 실패 시 명확한 다음 단계 안내

### 보안
- [ ] 위험한 명령 실행 방지
- [ ] 비밀번호 입력 시 안전한 처리
- [ ] sudo 남용 방지

## 🎯 성공 기준

1. **두려움 해소**: 초보자가 sudo/비밀번호를 무서워하지 않음
2. **명확한 안내**: 각 단계에서 무엇을 해야 하는지 명확함
3. **에러 복구**: 실패해도 쉽게 다시 시도할 수 있음
4. **학습 효과**: 사용하면서 자연스럽게 터미널에 익숙해짐